(this.webpackJsonpUklip=this.webpackJsonpUklip||[]).push([[0],{18:function(e,t,r){e.exports={cardmodel:"Card_cardmodel__1E34J"}},19:function(e,t,r){e.exports={addform:"NewSeriesForm_addform__2DqMm"}},23:function(e,t,r){e.exports={myform:"FormStyle_myform__3u2RV"}},29:function(e,t,r){},30:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var i=r(1),c=r(17),s=r.n(c),n=r(4),a=(r(29),r(9)),l=r(2),o=r(24),d=(r(30),r(0)),j=Object(i.createContext)({allFavourites:[],totalFavs:0,isFavouriteItem:function(e){},addFavouriteItem:function(e){},removeFavouriteItem:function(e){}});function u(e){var t=Object(i.useState)([]),r=Object(a.a)(t,2),c=r[0],s=r[1];var n={allFavourites:c,totalFavs:c.length,isFavouriteItem:function(e){return c.some((function(t){return t.id===e}))},addFavouriteItem:function(e){s((function(t){return t.concat(e)}))},removeFavouriteItem:function(e){s((function(t){return t.filter((function(t){return t.id!==e}))}))}};return Object(d.jsx)(j.Provider,{value:n,children:e.children})}var b=j;var h=function(e){var t=Object(i.useContext)(b),r=t.isFavouriteItem(e.id);return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"imgbox",children:Object(d.jsx)("img",{src:e.imageurl})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)("button",{className:"btn",children:"Play"}),Object(d.jsx)("button",{className:"btn",onClick:function(){r?t.removeFavouriteItem(e.id):t.addFavouriteItem({id:e.id,title:e.title,description:e.description,imageurl:e.imageurl})},children:r?"Remove":"Fav+"})]}),Object(d.jsxs)("div",{className:"desc",children:[Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("p",{children:e.description})]})]})]})};var O=function(e){return Object(d.jsx)("div",{children:e.data.map((function(e){return Object(d.jsx)(h,{id:e.id,title:e.title,description:e.description,imageurl:e.imageurl},e.id)}))})},x=[{id:1,imageurl:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQMpWgFcYiV0MThcMMAVihr_5Zx2twoZ2Q_kVZOsVZ9nH1hmJZj",title:"Friends",description:"this is first series"},{id:2,imageurl:"https://resizing.flixster.com/rsCbfa9BcKUs-2T5aZHMm4VyOtw=/206x305/v1.dDsyODUyMjI7ajsxODgxMzsxMjAwOzE1MzY7MjA0OA",title:"New Girl",description:"this is second series"},{id:3,imageurl:"https://images.pexels.com/photos/2304123/pexels-photo-2304123.jpeg?cs=srgb&dl=pexels-ron%C3%AA-ferreira-2304123.jpg&fm=jpg",title:"Bat-Man",description:"this is Third series"},{id:4,imageurl:"https://source.unsplash.com/200x200/?spiderman",title:"Spider-Man",description:"this is Fourth series"},{id:5,imageurl:"https://source.unsplash.com/200x200/?robots",title:"Robots",description:"this is Fifth series"}];var m=function(){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),r=t[0],c=t[1],s=Object(i.useState)([]),n=Object(a.a)(s,2),l=n[0],j=n[1];return Object(i.useEffect)((function(){fetch("https://series-259a7-default-rtdb.firebaseio.com/series.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var r in e)t.push(Object(o.a)({id:r},e[r]));if("error"===t[0].id)throw new Error;c(!1),j(t)})).catch((function(e){console.log("errr",e),c(!1),j(x)}))}),[]),r?Object(d.jsx)("h1",{children:"Loading...."}):0===l.length?Object(d.jsx)("h1",{children:"NO DATA"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"All series"}),Object(d.jsx)(O,{data:l})]})},v=r(18),f=r.n(v);var p=function(e){return Object(d.jsx)("div",{className:f.a.cardmodel,children:e.children})},g=r(19),y=r.n(g);var N=function(e){var t=Object(i.useRef)(""),r=Object(i.useRef)(""),c=Object(i.useRef)("");return Object(d.jsx)(p,{children:Object(d.jsxs)("form",{className:y.a.addform,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"image",children:"Image Url"}),Object(d.jsx)("input",{type:"url",id:"image",ref:t})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"title",children:"Title"}),Object(d.jsx)("input",{type:"text",id:"title",ref:r,required:!0})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(d.jsx)("textarea",{id:"desc",rows:"5",ref:c})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(i){i.preventDefault();var s={imageurl:t.current.value,title:r.current.value,description:c.current.value};e.onAddSeries(s),t.current.value="",r.current.value="",c.current.value=""},children:"Add Content"})})]})})};var w=function(){var e=Object(l.f)();return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:" Add New series"}),Object(d.jsx)(N,{onAddSeries:function(t){fetch("https://series-259a7-default-rtdb.firebaseio.com/series.json",{method:"POST",body:JSON.stringify(t),header:{"Content-Type":"application/json"}}).then((function(){e.replace("/")})).catch((function(e){alert(e)}))}})]})};var S=function(){var e=Object(i.useContext)(b);return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Favourite series"}),Object(d.jsx)(O,{data:e.allFavourites})]})},k=r(8),_=r.n(k),F=r(21),A=r(22),I=function(){function e(){Object(F.a)(this,e)}return Object(A.a)(e,[{key:"getusers",value:function(){return e.usersStore()}},{key:"storeUser",value:function(e){var t=[];localStorage.clear(),null===localStorage.getItem("loggeduser")&&(t.push(e[0]),localStorage.setItem("loggeduser",JSON.stringify(t)))}},{key:"clearStore",value:function(){localStorage.clear()}},{key:"isAlreadyLoginUser",value:function(){return null!==localStorage.getItem("loggeduser")?{user:JSON.parse(localStorage.getItem("loggeduser")),isLogin:!0}:{user:"Guest",isLogin:!1}}}],[{key:"usersStore",value:function(){return[{id:"an@gmail.com",name:"Ankit Rawat",password:"1111"},{id:"pk@gmail.com",name:"Prakash Singh",password:"1122"},{id:"ak@gmail.com",name:"Ankush Soni",password:"1105"},{id:"mn@gmail.com",name:"Mohit",password:"1122"},{id:"jatin@gmail.com",name:"jatin seth",password:"1111"}]}}]),e}();var C=function(e){var t=new I,r=Object(i.useContext)(b),c=Object(i.useRef)(),s=r.totalFavs;return e.showLink?Object(d.jsxs)("header",{className:_.a.header,children:[Object(d.jsx)("div",{className:_.a.logo,children:Object(d.jsx)("h1",{children:Object(d.jsx)(n.b,{to:"/home",children:"UKlip"})})}),Object(d.jsx)("div",{className:_.a.greet,children:Object(d.jsxs)("p",{children:["Welcome! ",e.user]})}),Object(d.jsx)("div",{className:_.a.linkbox,children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(n.b,{to:"/home",children:"All Series"})}),Object(d.jsx)("li",{children:Object(d.jsx)(n.b,{to:"/new-series",children:"Add new series"})}),Object(d.jsxs)("li",{ref:c,children:[Object(d.jsx)(n.b,{to:"/favourite",children:"Favourites"}),Object(d.jsx)("span",{className:_.a.badge,children:s})]})]})}),Object(d.jsx)("div",{className:_.a.signup,children:Object(d.jsx)(n.b,{to:"/login",onClick:function(){e.signout(!1),t.clearStore()},children:"Sign Out"})})]}):Object(d.jsxs)("header",{className:_.a.header,children:[Object(d.jsx)("div",{className:_.a.logo,children:Object(d.jsx)("h1",{children:Object(d.jsx)(n.b,{to:"/",children:"UKlip"})})}),Object(d.jsx)("div",{className:(_.a.linkbox,_.a.box),children:Object(d.jsx)(n.b,{to:"/login",className:_.a.signup,children:"Sign In"})})]})};var L=function(e){var t=e.showLinks,r=e.name,i=e.logout;return Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{children:Object(d.jsx)(C,{showLink:t,user:r,signout:i})}),Object(d.jsx)("main",{children:e.children})]})},U=r(23),M=r.n(U);var R=function(e){return Object(d.jsx)("div",{className:M.a.myform,children:e.children})};var P=function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),r=Object(i.useRef)(),c=Object(l.f)();return Object(d.jsxs)(R,{children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsxs)("form",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",name:"name",placeholder:"User Name",ref:e,required:!0})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email@example.com",ref:t,required:!0})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:r,required:!0})}),Object(d.jsx)("button",{type:"submit",onClick:function(i){i.preventDefault();var s={};""!==e.current.value&&""!==t.current.value&&""!==r.current.value?(s={name:e.current.value,id:t.current.value,pwd:r.current.value},fetch("https://series-259a7-default-rtdb.firebaseio.com/userdb.json",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}}).then((function(e){200===e.status?(alert("Account Successfully Created.please Login."),c.replace("/login")):(alert("".concat(e.statusText,". Please try again!!")),c.replace("/register"))})).catch((function(e){alert("".concat(e,". Please try again!!")),c.replace("/register")}))):alert("Details incomplete "),e.current.value="",t.current.value="",r.current.value=""},children:"Submit"})]})]})},D=new I;var T=function(e){var t=Object(i.useRef)(),r=Object(i.useRef)(),c=Object(l.f)();return Object(d.jsxs)(R,{children:[Object(d.jsx)("h1",{children:"SignIn"}),Object(d.jsxs)("form",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"email",name:"email",placeholder:"email@example.com",ref:t,required:!0})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:r,required:!0})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",onClick:function(i){i.preventDefault();var s=t.current.value,n=r.current.value,a=D.getusers().filter((function(e){return e.id===s&&e.password===n}));0!==a.length?(D.storeUser(a),e.login(a,!0),c.replace("/home")):(alert("Invalid details,Please enter correct details"),t.current.value="",r.current.value="")},children:"Submit"})}),Object(d.jsx)(n.b,{to:"/register",children:"New User?"})]})]})};r(37);var B=function(){return Object(d.jsx)("div",{className:"start",children:Object(d.jsx)(n.b,{to:"/register",className:"bigbtn",children:"Get Started"})})},q=new I;var E=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),r=t[0],c=t[1],s=Object(i.useState)(),n=Object(a.a)(s,2),o=n[0],j=n[1];function u(e,t){if(0!==e.length){c(t);var r="".concat(e[0].name).substr(0,"".concat(e[0].name).indexOf(" "));j(r)}}return Object(i.useEffect)((function(){c(q.isAlreadyLoginUser().isLogin),u(q.isAlreadyLoginUser().user,q.isAlreadyLoginUser().isLogin)}),[q.isAlreadyLoginUser().isLogin]),r?Object(d.jsx)("div",{children:Object(d.jsx)(L,{showLinks:r,name:o,logout:function(e){c(e)},children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/home",exact:!0,children:Object(d.jsx)(m,{})}),Object(d.jsx)(l.a,{path:"/new-series",children:Object(d.jsx)(w,{})}),Object(d.jsx)(l.a,{path:"/favourite",children:Object(d.jsx)(S,{})})]})})}):Object(d.jsx)("div",{children:Object(d.jsx)(L,{showLinks:r,children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",exact:!0,children:Object(d.jsx)(B,{})}),Object(d.jsx)(l.a,{path:"/register",children:Object(d.jsx)(P,{})}),Object(d.jsx)(l.a,{path:"/login",children:Object(d.jsx)(T,{login:u})}),Object(d.jsx)(l.a,{children:Object(d.jsx)(B,{})})]})})})};s.a.render(Object(d.jsx)(u,{children:Object(d.jsx)(n.a,{children:Object(d.jsx)(E,{})})}),document.getElementById("root"))},8:function(e,t,r){e.exports={header:"NavBar_header__3WPZz",linkbox:"NavBar_linkbox__UbvfR",signup:"NavBar_signup__2QQ_G",badge:"NavBar_badge__2diEP",logo:"NavBar_logo__1QEPk",box:"NavBar_box__pNCvM"}}},[[38,1,2]]]);
//# sourceMappingURL=main.7d3e9c71.chunk.js.map