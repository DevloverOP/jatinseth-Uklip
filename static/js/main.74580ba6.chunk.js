(this.webpackJsonpUklip=this.webpackJsonpUklip||[]).push([[0],{18:function(e,t,r){},22:function(e,t,r){e.exports={cardmodel:"Card_cardmodel__1E34J"}},23:function(e,t,r){e.exports={addform:"NewSeriesForm_addform__2DqMm"}},26:function(e,t,r){e.exports={myform:"FormStyle_myform__3u2RV"}},32:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var i=r(1),c=r(20),n=r.n(c),s=r(3),a=(r(32),r(9)),o=r(2),l=r(27),d=r(11),u=r.n(d),j=r(13),b=(r(18),r(0)),h=Object(i.createContext)({allFavourites:[],totalFavs:0,isFavouriteItem:function(e){},addFavouriteItem:function(e){},removeFavouriteItem:function(e){}});function m(e){var t=Object(i.useState)([]),r=Object(a.a)(t,2),c=r[0],n=r[1];var s={allFavourites:c,totalFavs:c.length,isFavouriteItem:function(e){return c.some((function(t){return t.id===e}))},addFavouriteItem:function(e){n((function(t){return t.concat(e)}))},removeFavouriteItem:function(e){n((function(t){return t.filter((function(t){return t.id!==e}))}))}};return Object(b.jsx)(h.Provider,{value:s,children:e.children})}var O=h;var x=function(e){var t=Object(i.useContext)(O),r=t.isFavouriteItem(e.id),c=Object(o.f)();function n(){return(n=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://series-259a7-default-rtdb.firebaseio.com/series/".concat(e.id,".json"),{method:"DELETE"}).then((function(e){200===e.status?alert("Data deleted"):alert("Error in Data deletion"),c.replace("/")})).catch((function(e){console.log(e)}));case 2:t.sent,c.replace("/home");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"imgbox",children:Object(b.jsx)("img",{src:e.imageurl})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"btn",children:"Play"}),Object(b.jsx)("button",{className:"btn",onClick:function(){return n.apply(this,arguments)},children:"Delete"}),Object(b.jsx)("button",{className:"btn",onClick:function(){r?t.removeFavouriteItem(e.id):t.addFavouriteItem({id:e.id,title:e.title,description:e.description,imageurl:e.imageurl})},children:r?"Un-Fav":"Fav+"})]}),Object(b.jsxs)("div",{className:"desc",children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsx)("p",{children:e.description})]})]})]})};var f=function(e){return Object(b.jsx)("div",{className:"content",children:e.data.map((function(e){return Object(b.jsx)(x,{id:e.id,title:e.title,description:e.description,imageurl:e.imageurl},e.id)}))})},p=[{id:1,imageurl:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQMpWgFcYiV0MThcMMAVihr_5Zx2twoZ2Q_kVZOsVZ9nH1hmJZj",title:"Friends",description:"This is American series about 6 friends living together. comedy,drama,romance"},{id:2,imageurl:"https://resizing.flixster.com/rsCbfa9BcKUs-2T5aZHMm4VyOtw=/206x305/v1.dDsyODUyMjI7ajsxODgxMzsxMjAwOzE1MzY7MjA0OA",title:"New Girl",description:"This is American-sitcom series about Room-mates,a new girls and share apartment live together. comedy,drama,romance"},{id:3,imageurl:"https://images.pexels.com/photos/2304123/pexels-photo-2304123.jpeg?cs=srgb&dl=pexels-ron%C3%AA-ferreira-2304123.jpg&fm=jpg",title:"Bat-Man",description:"This is American DC series about a guys fight for justice to save city gautham. Action ,drama,love"},{id:4,imageurl:"https://source.unsplash.com/200x200/?spiderman",title:"Spider-Man",description:"This is American marvel series about a collage guy having been bitten by spider become a guy with spider powers,and fight with Bad guys. comedy,drama,action,love"},{id:5,imageurl:"https://source.unsplash.com/200x200/?robots",title:"Robots",description:"This is American series about Robots started thinking, having had feelings become human alike. comedy,drama,romance"}];var v=function(){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),r=t[0],c=t[1],n=Object(i.useState)([]),s=Object(a.a)(n,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){fetch("https://series-259a7-default-rtdb.firebaseio.com/series.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var r in e)t.push(Object(l.a)({id:r},e[r]));if("error"===t[0].id)throw new Error;c(!1),d(t)})).catch((function(e){console.log("errr",e),c(!1),d(p)}))}),[]),r?Object(b.jsx)("h1",{children:"Loading...."}):0===o.length?Object(b.jsx)("h1",{children:"NO DATA"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"All series"}),Object(b.jsx)(f,{data:o})]})},g=r(22),y=r.n(g);var N=function(e){return Object(b.jsx)("div",{className:y.a.cardmodel,children:e.children})},w=r(23),_=r.n(w);var S=function(e){Object(o.f)();var t=Object(i.useRef)(""),r=Object(i.useRef)(""),c=Object(i.useRef)("");return Object(b.jsx)(N,{children:Object(b.jsxs)("form",{className:_.a.addform,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"image",children:"Image Url"}),Object(b.jsx)("input",{type:"url",id:"image",ref:t})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",id:"title",ref:r,required:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(b.jsx)("textarea",{id:"desc",rows:"3",ref:c})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(i){i.preventDefault();var n={imageurl:t.current.value,title:r.current.value,description:c.current.value};""!==n.imgurl&&""!==n.title&&""!==n.description?(e.onAddSeries(n),t.current.value="",r.current.value="",c.current.value=""):alert("No Data Entered.")},children:"Add Content"})})]})})};var k=function(){var e=Object(o.f)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:" Add New series"}),Object(b.jsx)(S,{onAddSeries:function(t){fetch("https://series-259a7-default-rtdb.firebaseio.com/series.json",{method:"POST",body:JSON.stringify(t),header:{"Content-Type":"application/json"}}).then((function(){e.replace("/home")})).catch((function(e){alert(e)}))}})]})};var A=function(){var e=Object(i.useContext)(O);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Favourite series"}),Object(b.jsx)(f,{data:e.allFavourites})]})},F=r(5),C=r.n(F),I=r(24),U=r(25),L=function(){function e(){Object(I.a)(this,e)}return Object(U.a)(e,[{key:"getusers",value:function(){return e.usersStore()}},{key:"storeUser",value:function(e){var t=[];localStorage.clear(),null===localStorage.getItem("loggeduser")&&(t.push(e[0]),localStorage.setItem("loggeduser",JSON.stringify(t)))}},{key:"clearStore",value:function(){localStorage.clear()}},{key:"isAlreadyLoginUser",value:function(){return null!==localStorage.getItem("loggeduser")?{user:JSON.parse(localStorage.getItem("loggeduser")),isLogin:!0}:{user:[{name:"Guest"}],isLogin:!1}}}],[{key:"usersStore",value:function(){return[{id:"jatin@gmail.com",name:"jatin seth",pwd:"1111"},{id:"guest@gmail.com",name:"user",pwd:"0000"}]}}]),e}();var D=function(e){var t=new L,r=Object(i.useContext)(O),c=Object(i.useRef)(),n=r.totalFavs;return e.showLink?Object(b.jsxs)("header",{className:C.a.header,children:[Object(b.jsx)("div",{className:C.a.logo,children:Object(b.jsx)("h1",{children:Object(b.jsx)(s.b,{to:"/home",className:C.a.logotooltip2,children:"UKlip"})})}),Object(b.jsx)("div",{className:C.a.greet,children:Object(b.jsxs)("p",{children:["Welcome! ",e.user]})}),Object(b.jsx)("div",{className:C.a.linkbox,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/home",children:"All Series"})}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/new-series",children:"Add new series"})}),Object(b.jsxs)("li",{ref:c,children:[Object(b.jsx)(s.b,{to:"/favourite",children:"Favourites"}),Object(b.jsx)("span",{className:C.a.badge,children:n})]})]})}),Object(b.jsx)("div",{className:C.a.signup,children:Object(b.jsx)(s.b,{to:"/login",onClick:function(){e.signout(!1),t.clearStore()},children:"Sign Out"})})]}):Object(b.jsxs)("header",{className:C.a.header,children:[Object(b.jsx)("div",{className:C.a.logo,children:Object(b.jsx)("h1",{children:Object(b.jsx)(s.b,{to:"/",className:C.a.logotooltip,children:"UKlip"})})}),Object(b.jsx)("div",{className:(C.a.linkbox,C.a.box),children:Object(b.jsx)(s.b,{to:"/login",className:C.a.signup,children:"Sign In"})})]})},R=(r(40),function(){return Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)(s.b,{to:"/home",children:"Home"}),Object(b.jsx)(s.b,{to:"/new-series",children:"Add Series"}),Object(b.jsx)(s.b,{to:"/favourite",children:"Favourites"}),Object(b.jsx)(s.b,{to:"/",children:"About"}),Object(b.jsx)(s.b,{to:"/",children:"Contact"}),Object(b.jsx)("h3",{className:"copyright",children:"Uklip\xa92021"})]})});r(41);var T=function(e){var t=e.showLinks,r=e.name,i=e.logout;return Object(b.jsxs)("div",{className:"mainContainer",children:[Object(b.jsx)("header",{children:Object(b.jsx)(D,{showLink:t,user:r,signout:i})}),Object(b.jsx)("main",{children:e.children}),Object(b.jsx)(R,{})]})},E=r(26),M=r.n(E);var B=function(e){return Object(b.jsx)("div",{className:M.a.myform,children:e.children})};var P=function(){var e=Object(i.useRef)(),t=Object(i.useRef)(),r=Object(i.useRef)(),c=Object(o.f)();return Object(b.jsxs)(B,{children:[Object(b.jsx)("h1",{children:"Register"}),Object(b.jsxs)("form",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"text",name:"name",placeholder:"User Name",ref:e,required:!0})}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"email",name:"email",placeholder:"email@example.com",ref:t,required:!0})}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:r,required:!0})}),Object(b.jsx)("button",{type:"submit",onClick:function(i){i.preventDefault();var n={};""!==e.current.value&&""!==t.current.value&&""!==r.current.value?(n={name:e.current.value,id:t.current.value,pwd:r.current.value},fetch("https://series-259a7-default-rtdb.firebaseio.com/userdb.json",{method:"POST",body:JSON.stringify(n),header:{"Content-Type":"application/json"}}).then((function(e){200===e.status?(alert("Account Successfully Created.please Login."),c.replace("/login")):(alert("".concat(e.statusText,". Please try again!!")),c.replace("/register"))})).catch((function(e){alert("".concat(e," Error!!.")),c.replace("/")}))):alert("Details incomplete "),e.current.value="",t.current.value="",r.current.value=""},children:"Submit"})]})]})},q=new L;var J=function(e){var t=Object(i.useRef)(),r=Object(i.useRef)(),c=Object(o.f)();function n(){return(n=Object(j.a)(u.a.mark((function i(n){var s,a,o,l;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.preventDefault(),s=[],a={id:t.current.value,pass:r.current.value},i.prev=3,i.next=6,fetch("https://series-259a7-default-rtdb.firebaseio.com/userdb.json/?id=".concat(a.id));case 6:return o=i.sent,i.next=9,o.json();case 9:(l=i.sent)&&(s=Object.values(l).filter((function(e){return e.id===a.id&&e.pwd===a.pass}))),i.next=19;break;case 13:return i.prev=13,i.t0=i.catch(3),console.log("this is error",i.t0),i.next=18,q.getusers().filter((function(e){return e.id===a.id&&e.pwd===a.pass}));case 18:s=i.sent;case 19:0!==s.length?(q.storeUser(s),e.login(s,!0),c.replace("/home")):(alert("Invalid details,Please enter correct details"),t.current.value="",r.current.value="");case 20:case"end":return i.stop()}}),i,null,[[3,13]])})))).apply(this,arguments)}return Object(b.jsxs)(B,{children:[Object(b.jsx)("h1",{children:"SignIn"}),Object(b.jsxs)("form",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"email",name:"email",placeholder:"email@example.com",ref:t,required:!0})}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:r,required:!0})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",onClick:function(e){return n.apply(this,arguments)},children:"Submit"})}),Object(b.jsx)(s.b,{to:"/register",children:"New User?"})]})]})};r(42);var Z=function(){return Object(b.jsx)("div",{className:"start",children:Object(b.jsx)(s.b,{to:"/register",className:"bigbtn",children:"Get Started"})})},Q=new L;var V=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),r=t[0],c=t[1],n=Object(i.useState)(),s=Object(a.a)(n,2),l=s[0],d=s[1];function u(e,t){if(0!==e.length){c(t),e[0].name=e[0].name+" ";var r="".concat(e[0].name).substr(0,"".concat(e[0].name).indexOf(" "));d(r)}}return Object(i.useEffect)((function(){c(Q.isAlreadyLoginUser().isLogin),u(Q.isAlreadyLoginUser().user,Q.isAlreadyLoginUser().isLogin)}),[Q.isAlreadyLoginUser().isLogin]),r?Object(b.jsx)("div",{children:Object(b.jsx)(T,{showLinks:r,name:l,logout:function(e){c(e)},children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/home",exact:!0,children:Object(b.jsx)(v,{})}),Object(b.jsx)(o.a,{path:"/new-series",children:Object(b.jsx)(k,{})}),Object(b.jsx)(o.a,{path:"/favourite",children:Object(b.jsx)(A,{})})]})})}):Object(b.jsx)("div",{children:Object(b.jsx)(T,{showLinks:r,children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(Z,{})}),Object(b.jsx)(o.a,{path:"/register",children:Object(b.jsx)(P,{})}),Object(b.jsx)(o.a,{path:"/login",children:Object(b.jsx)(J,{login:u})}),Object(b.jsx)(o.a,{children:Object(b.jsx)(Z,{})})]})})})};n.a.render(Object(b.jsx)(m,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(V,{})})}),document.getElementById("root"))},5:function(e,t,r){e.exports={header:"NavBar_header__3WPZz",linkbox:"NavBar_linkbox__UbvfR",signup:"NavBar_signup__2QQ_G",badge:"NavBar_badge__2diEP",logo:"NavBar_logo__1QEPk",logotooltip:"NavBar_logotooltip__2Yss_",logotooltip2:"NavBar_logotooltip2__1pKQr",box:"NavBar_box__pNCvM"}}},[[43,1,2]]]);
//# sourceMappingURL=main.74580ba6.chunk.js.map